<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="~{partials :: head ('Posts')}">
</head>
<body>
<nav th:replace="partials :: navbar"></nav>
<div class="main-container">
    <div class="text-container">
    <h1><span th:text="${team.name}"></span></h1>
    <div>
        <h2>Team Name: <span th:text="${team.name}"></span></h2>
        <h2>Team City: <span th:text="${team.city}"></span></h2>
        <h2>Team Captain:  <span th:text="${team.captain.firstName}"></span></h2>
        <ul>
           <li th:each="user : ${team.users}">
               <button th:text="${user.firstName}" type="button" class="btn btn-secondary"
                       data-bs-toggle="popover" data-bs-placement="right"
                       data-bs-custom-class="custom-popover"
                       data-bs-title="Custom popover"
                       data-bs-content="This popover is themed via CSS variables.">
               </button>
           </li>
        </ul>
    </div>
        <form method="post" th:action="@{/teams/{id}/posts(id=${team.id})}">
            <div class="mb-3">
                <label for="title" class="form-label">Title:</label>
                <input type="text" class="form-control" id="title" name="title" required>
            </div>
            <div class="mb-3">
                <label for="content" class="form-label">Content:</label>
                <textarea class="form-control" id="content" name="content" rows="5" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Create Post</button>
        </form>

        <ul>
            <li th:each="post : ${posts}">
                <div>
                    <h3><span th:text="${post.title}"></span></h3>
                    <p><span th:text="${post.content}"></span></p>
                    <p>By: <span th:text="${post.user.firstName}"></span> at <span th:text="${post.timestamp}"></span></p>
                    <hr>
                </div>
            </li>
        </ul>
    </div>
</div>
<footer th:replace="partials :: footer"></footer>
<div th:replace="partials :: js"></div>
</body>
</html>